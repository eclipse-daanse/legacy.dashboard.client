import{d as C,e as g,f as v,o as i,n as A,p as b,j as c,k as l,q as L,g as m,s as W,F as N,u as M,w as k,v as T,x as w}from"./vue.esm-bundler-e31f75a1.js";import{v as z}from"./v4-4a60fe23.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"settings-container"},E={class:"image-list-container"},F=C({__name:"ImageWidgetSettings",props:["component"],setup(S){const a=S,y=()=>{console.log(a.component),a.component.images.push({id:z(),url:"Test"})},d=g(!1);return(p,s)=>{const o=v("va-button"),r=v("va-input"),n=v("va-select"),t=v("va-collapse");return i(),A(t,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),header:"Image widget settings"},{default:b(()=>[c("div",D,[l(o,{onClick:y},{default:b(()=>[L("Add image")]),_:1}),c("div",E,[(i(!0),m(N,null,W(a.component.images,e=>(i(),m("div",{key:e.id,class:"image-settings-container"},[l(r,{modelValue:e.url,"onUpdate:modelValue":_=>e.url=_,label:"Image src",class:"image-settings-remove-input"},null,8,["modelValue","onUpdate:modelValue"]),l(o,{onClick:()=>a.component.images.splice(e,1),icon:"clear",class:"image-settings-remove-button"},null,8,["onClick"])]))),128))]),l(n,{modelValue:a.component.imageSettings.fit,"onUpdate:modelValue":s[0]||(s[0]=e=>a.component.imageSettings.fit=e),label:"Fit",options:["Cover","Contain","Stretch","Fill","None"]},null,8,["modelValue"]),l(r,{modelValue:a.component.imageSettings.diashowInterval,"onUpdate:modelValue":s[1]||(s[1]=e=>a.component.imageSettings.diashowInterval=e),label:"Diashow interval"},null,8,["modelValue"])])]),_:1},8,["modelValue"])}}});const O=$(F,[["__scopeId","data-v-4311d3fd"]]);F.__docgenInfo={exportName:"default",displayName:"ImageWidgetSettings",description:"",tags:{},props:[{name:"component",type:{name:"undefined"}}],sourceFiles:["/home/markus/dev/xmla_slava/XMLAClient/src/components/Widgets/Image/ImageWidgetSettings.vue"]};const P=["src"],G={key:1,class:"galery-container"},H={class:"button-prev"},J=["src"],K={class:"button-next"},q=C({__name:"ImageWidget",props:{initialState:{type:Object,required:!1},imgSrc:{type:String,required:!1,default:""}},setup(S,{expose:a}){M(u=>({"7d515846":e.value.fit}));const y=O,d=S,{initialState:p,imgSrc:s}=d,o=g((p==null?void 0:p.imgSrc)||s||"");let r=null;const n=g([]),t=g(0),e=g({fit:"None",diashowInterval:0}),_=()=>{t.value<n.value.length-1&&t.value++},U=()=>{t.value>0&&t.value--},B=()=>({imgSrc:o.value});k(()=>d.imgSrc,u=>{o.value=u});const X=u=>{o.value=u.imgSrc},h=()=>{r&&clearInterval(r),e.value.diashowInterval>0&&(r=setInterval(()=>{if(t.value===n.value.length-1){t.value=0;return}_()},e.value.diashowInterval*1e3))};return T(()=>{h()}),k(()=>e.value.diashowInterval,h),a({imgSrc:o,settings:y,getState:B,setState:X,images:n,imageSettings:e}),(u,f)=>{var V;const x=v("va-button");return n.value.length<=1?(i(),m("img",{key:0,class:"image",src:(V=n.value[0])==null?void 0:V.url},null,8,P)):(i(),m("div",G,[c("div",H,[l(x,{onClick:f[0]||(f[0]=I=>U()),icon:"chevron_left",preset:"plain","text-color":"#ffffff",disabled:t.value===0},null,8,["disabled"])]),c("div",{class:"galery-viewport",style:w(`transform: translateX(-${100*t.value}%)`)},[(i(!0),m(N,null,W(n.value,(I,j)=>(i(),m("div",{key:I.id,class:"galery-image",style:w(`transform: translateX(${100*j}%)`)},[c("img",{class:"image",src:I.url},null,8,J)],4))),128))],4),c("div",K,[l(x,{onClick:f[1]||(f[1]=I=>_()),icon:"chevron_right","text-color":"#ffffff",disabled:t.value===n.value.length-1,preset:"plain"},null,8,["disabled"])])]))}}});const Z=$(q,[["__scopeId","data-v-26fc8e00"]]);q.__docgenInfo={exportName:"default",displayName:"ImageWidget",description:"",tags:{},expose:[{name:"imgSrc"},{name:"settings"},{name:"getState"},{name:"setState"},{name:"images"},{name:"imageSettings"}],props:[{name:"initialState",type:{name:"object"},required:!1},{name:"imgSrc",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'""'}}],sourceFiles:["/home/markus/dev/xmla_slava/XMLAClient/src/components/Widgets/Image/ImageWidget.vue"]};export{Z as I};
